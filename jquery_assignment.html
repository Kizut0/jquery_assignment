<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Interactive Web Form Assignment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <style>
        .error-text {
            color: red;
            font-size: 0.9rem;
            margin-top: 3px;
        }


        .error-border {
            border-color: red !important;
        }
    </style>
</head>

<body class="bg-light">
    <div class="container mt-5">
        <div class="card shadow">
            <div class="card-body">
                <h3 class="mb-4">Interactive Web Form</h3>

                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" id="username" class="form-control">
                </div>

                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" id="email" class="form-control">
                </div>

                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" id="password" class="form-control">
                </div>

                <div class="mb-3">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" id="confirmPassword" class="form-control">
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold" id="topicsLabel">Interesting Topics</label>
                    <div class="form-check">
                        <input class="form-check-input topic" type="checkbox" id="topic1" value="HTML">
                        <label class="form-check-label" for="topic1">HTML</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input topic" type="checkbox" id="topic2" value="CSS">
                        <label class="form-check-label" for="topic2">CSS</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input topic" type="checkbox" id="topic3" value="JavaScript">
                        <label class="form-check-label" for="topic3">JavaScript</label>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold" id="genderLabel">Gender</label>
                    <select id="gender" class="form-select">
                        <option>--</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                    </select>
                </div>

                <button id="submitBtn" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script>
        document.getElementById('submitBtn').addEventListener('click', function () {

            document.querySelectorAll('.error-text').forEach(el => el.remove());

            document.querySelectorAll('.form-control, .form-select').forEach(el => el.classList.remove('error-border'));

            let isValid = true;




            function showFieldError(inputElement, message) {
                inputElement.classList.add('error-border');
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-text';
                errorDiv.innerText = message;
                inputElement.parentElement.appendChild(errorDiv);
            }


            function showLabelError(labelElement, message) {
                const errorSpan = document.createElement('span');
                errorSpan.className = 'error-text ms-2'; // ms-2 adds a small left margin
                errorSpan.innerText = message;
                labelElement.appendChild(errorSpan);
            }




            const idsToCheck = ['username', 'email', 'password', 'confirmPassword'];

            idsToCheck.forEach(id => {
                const element = document.getElementById(id);
                if (element.value.trim() === '') {
                    showFieldError(element, "this field must not be empty");
                    isValid = false;
                }
            });


            const checkedTopics = document.querySelectorAll('.topic:checked');
            if (checkedTopics.length === 0) {
                const topicLabel = document.getElementById('topicsLabel');
                showLabelError(topicLabel, "At least one topic must be selected");
                isValid = false;
            }


            const genderSelect = document.getElementById('gender');
            if (genderSelect.value === '--') {
                const genderLabel = document.getElementById('genderLabel');
                showLabelError(genderLabel, "please choose your gender");
                isValid = false;
            }


            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword');


            if (confirmPassword.value.trim() !== '' && password !== confirmPassword.value) {
                showFieldError(confirmPassword, "confirmed password mismatched the password");
                isValid = false;
            }

            if (isValid) {
                alert("Form submitted successfully!");

            }
        });
    </script>
</body>

</html>